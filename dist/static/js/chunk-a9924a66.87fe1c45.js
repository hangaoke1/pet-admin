(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9924a66"],{5124:function(t,i,e){"use strict";e.d(i,"b",(function(){return r})),e.d(i,"a",(function(){return l}));e("4917");var n,o=e("2b0e"),d=new o["default"];function r(){d.$confirm("当前设备未安装打印控件，无法打印，是否开始安装?","提示",{confirmButtonText:"立即安装",cancelButtonText:"取消",type:"warning"}).then((function(){window.open("http://mall.gohipet.com/download/CLodop_Setup_for_Win32NT.exe")})).catch((function(){}))}function s(){try{var t=navigator.userAgent;if(t.match(/Windows\sPhone/i))return!0;if(t.match(/iPhone|iPod|iPad/i))return!0;if(t.match(/Android/i))return!0;if(t.match(/Edge\D?\d+/i))return!0;var i=t.match(/Trident\D?\d+/i),e=t.match(/MSIE\D?\d+/i),n=t.match(/OPR\D?\d+/i),o=t.match(/Firefox\D?\d+/i),d=t.match(/x64/i);if(!i&&!e&&d)return!0;if(o){if(o=o[0].match(/\d+/),o[0]>=41||d)return!0}else if(n){if(n=n[0].match(/\d+/),n[0]>=32)return!0}else if(!i&&!e){var r=t.match(/Chrome\D?\d+/i);if(r&&(r=r[0].match(/\d+/),r[0]>=41))return!0}return!1}catch(s){return!0}}function a(){if("loading"!=n&&"complete"!=n){n="loading";var t=document.head||document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("script"),e=document.createElement("script");i.src="http://localhost:8000/CLodopfuncs.js?priority=1",e.src="http://localhost:18000/CLodopfuncs.js",i.onload=e.onload=function(){n="complete"},i.onerror=e.onerror=function(t){n="complete"},t.insertBefore(i,t.firstChild),t.insertBefore(e,t.firstChild),!!(i.src+e.src).match(/\/\/localho|\/\/127.0.0./i)}}function l(t,i){var e;try{var o=navigator.userAgent;!!o.match(/MSIE/i)||o.match(/Trident/i);if(s()){try{e=getCLodop()}catch(d){}if(!e&&"complete"!==n)return void("loading"==n?alert("网页还没下载完毕，请稍等一下再操作."):alert("没有加载CLodop的主js，请先调用loadCLodop过程."));if(!e)return void r()}return e}catch(d){alert("getLodop出错:"+d)}}s()&&a()},c2f1:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"u-setting p-2"},[e("div",{staticClass:"bg-bai p-2"},[e("h1",{staticClass:"font-s-2"},[t._v("打印设置")]),t._v(" "),e("div",{staticClass:"flex align-center"},[e("div",{staticClass:"font-s-14 text-hui"},[t._v("小票机机型:")]),t._v(" "),e("el-select",{staticClass:"mx-1",attrs:{size:"mini",placeholder:"请选择"},model:{value:t.printIndex,callback:function(i){t.printIndex=i},expression:"printIndex"}},t._l(t.printList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.doTest}},[t._v("打印测试")])],1)])])},o=[],d=e("8ded"),r=e.n(d),s=e("5124"),a={name:"Print",data:function(){return{printIndex:r.a.get("PRINT_INDEX"),printList:[]}},watch:{printIndex:function(t){r.a.set("PRINT_INDEX",t),this.setPrint(t)}},mounted:function(){var t=this;setTimeout((function(){t.getLodop(),t.getPrintConfig()}),1e3)},methods:{doTest:function(){if(this.lodop)if(this.printIndex){var t=Object(s["a"])();t.SET_PRINT_STYLE("FontSize",8),t.ADD_PRINT_HTM(0,0,"100%","100%",'\n        <div>\n          <h1  style="font-size: 16pt;text-align: center">小黄兜宠物店</h1>\n          <div style="margin-bottom: 2mm;font-size: 10pt;">订单号：1000000020391</div>\n          <div style="font-size: 10pt;">收银员：小黄兜宠物生活馆</div>\n          <div style="padding: 2mm 0;font-size: 10pt;">= = = = = = = = = = = = = = = = = = = = = = =</div>\n\n          <div style="display: flex">\n            <div style="width: 30mm;font-size: 10pt;">商品名称</div>\n            <div style="width: 21mm;text-align:center;font-size: 10pt;">数量</div>\n            <div style="width: 21mm;text-align:center;font-size: 10pt;">单价</div>\n          </div>\n\n          <div style="display: flex;margin-top: 2mm;">\n            <div style="width: 30mm;font-size: 10pt;">渴望猫粮15kg鳕鱼味</div>\n            <div style="width: 21mm;text-align:center;font-size: 10pt;">1</div>\n            <div style="width: 21mm;text-align:center;font-size: 10pt;">490.00</div>\n          </div>\n          <div style="display: flex;margin-top: 2mm;">\n            <div style="width: 30mm;font-size: 10pt;">渴望猫粮15kg鳕鱼味</div>\n            <div style="width: 21mm;text-align:center;font-size: 10pt;">1</div>\n            <div style="width: 21mm;text-align:center;font-size: 10pt;">490.00</div>\n          </div>\n          <div style="display: flex;margin-top: 2mm;">\n            <div style="width: 30mm;font-size: 10pt;">渴望猫粮15kg鳕鱼味</div>\n            <div style="width: 21mm;text-align:center;font-size: 10pt;">1</div>\n            <div style="width: 21mm;text-align:center;font-size: 10pt;">490.00</div>\n          </div>\n        </div>\n      '),t.SET_PRINT_PAGESIZE(3,720,45,""),t.PRINT()}else this.$message.warning("请选择打印机");else Object(s["b"])()},getLodop:function(){this.lodop=Object(s["a"])()},setPrint:function(t){this.lodop.SET_PRINTER_INDEX(t)},getPrintConfig:function(){if(this.lodop){for(var t=[],i=this.lodop.GET_PRINTER_COUNT(),e=0;e<i;e++)t.push({label:this.lodop.GET_PRINTER_NAME(e),value:e});this.printList=t}}}},l=a,c=e("2877"),m=Object(c["a"])(l,n,o,!1,null,"26563dba",null);i["default"]=m.exports}}]);