(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fd3520c"],{"41e8":function(t,e,a){"use strict";var s=a("8680"),i=a.n(s);i.a},"75f1":function(t,e,a){"use strict";var s=a("9707"),i=a.n(s);i.a},8680:function(t,e,a){},"89c5":function(t,e,a){"use strict";var s=a("c32d"),i=a.n(s);i.a},9707:function(t,e,a){},ada4:function(t,e,a){"use strict";var s=a("fb7b"),i=a.n(s);i.a},c32d:function(t,e,a){},fb7b:function(t,e,a){},fe2c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-2"},[a("yc-tabs",{attrs:{options:["线上订单","退款/售后"].map((function(t){return{label:t,value:t}}))},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}}),t._v(" "),a("yc-block",["线上订单"===t.current?a("online-order-normal"):t._e(),t._v(" "),"退款/售后"===t.current?a("online-order-refund"):t._e()],1)],1)},i=[],n=a("ba91"),r=a("c934"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"u-shopOrder"},[a("div",{staticClass:"pb-1 border-bottom-divider flex align-center justify-between"},[a("yc-radio",{staticClass:"flex-0",attrs:{options:t.statusOptions},on:{change:t.getList},model:{value:t.listQuery.orderStatus,callback:function(e){t.$set(t.listQuery,"orderStatus",e)},expression:"listQuery.orderStatus"}}),t._v(" "),a("div",{staticClass:"flex align-center"},[a("el-date-picker",{staticClass:"mr-1",attrs:{type:"daterange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"small","default-time":["00:00:00","23:59:59"]},on:{change:t.getList},model:{value:t.listQuery.date,callback:function(e){t.$set(t.listQuery,"date",e)},expression:"listQuery.date"}}),t._v(" "),a("el-input",{staticClass:"mr-1",staticStyle:{width:"200px"},attrs:{placeholder:"请输入订单号",clearable:"",size:"small","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getList(e)}},model:{value:t.listQuery.orderId,callback:function(e){t.$set(t.listQuery,"orderId",e)},expression:"listQuery.orderId"}}),t._v(" "),a("el-button",{staticClass:"yc-edit",attrs:{icon:"el-icon-search",size:"small"},on:{click:t.getList}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"mt-1",staticStyle:{width:"100%"},attrs:{data:t.list,"highlight-current-row":"",size:"small","header-row-class-name":"u-tabel__header"}},[a("el-table-column",{attrs:{label:"订单编号",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(s.order.orderId))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品详情","min-width":"300"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[a("sku-list",{attrs:{info:e}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"订单状态",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("el-tag",{attrs:{type:t.colorMap[s.order.orderStatus]}},[t._v(t._s(t.textMap[s.order.orderStatus]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"订单总价(元)",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",{staticClass:"font-weight-bold font-s-14"},[t._v(t._s(s.order.totalFee.toFixed(2)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"收货地址","min-width":"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[s.userAddress?a("div",{staticClass:"px-2 text-left"},[a("div",{staticClass:"u-address"},[a("span",[t._v(t._s(s.userAddress.province))]),t._v(" "),a("span",[t._v(t._s(s.userAddress.city))]),t._v(" "),a("span",[t._v(t._s(s.userAddress.area))]),t._v(" "),a("span",[t._v(t._s(s.userAddress.detail))])]),t._v(" "),a("div",[a("span",{staticClass:"u-contact"},[t._v(t._s(s.userAddress.contact))]),t._v(" "),a("span",{staticClass:"u-mobile"},[t._v(t._s(s.userAddress.mobile))])])]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"物流信息","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(s.order.logisticsName))]),t._v(" "),a("span",[t._v(t._s(s.order.logisticsNo))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"订单备注",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"u-buyerMemo"},[t._v(t._s(s.order.buyerMemo))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"u-createTime"},[t._v(t._s(s.order.createTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("el-button",{staticClass:"yc-btn",attrs:{size:"mini"},on:{click:function(e){return t.goDetail(s)}}},[t._v("详情")]),t._v(" "),200==s.order.orderStatus?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(e){return t.sendOrder(s)}}},[t._v("发货")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"u-page"},[a("el-pagination",{attrs:{background:"","current-page":t.pageNo,"page-sizes":[10,20,30,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"发货",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.sendForm}},[a("el-form-item",{attrs:{label:"物流选择","label-width":"120px"}},[a("el-select",{attrs:{placeholder:"请选择物流公司"},model:{value:t.sendForm.logisticsName,callback:function(e){t.$set(t.sendForm,"logisticsName",e)},expression:"sendForm.logisticsName"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"运单号","label-width":"120px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.sendForm.logisticsNo,callback:function(e){t.$set(t.sendForm,"logisticsNo",e)},expression:"sendForm.logisticsNo"}})],1),t._v(" "),a("div",{staticClass:"font-s-12 text-hui",staticStyle:{"margin-left":"120px"}},[t._v("注意：非商家配送时，需填写运单号")])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.confirmSend}},[t._v("确 定")])],1)],1)],1)},o=[],c=a("5a0c"),u=a.n(c),d=a("f8b7"),f=a("c466"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"yc-radio"},t._l(t.options,(function(e){return a("li",{key:e.label,staticClass:"yc-radio__item",class:{active:e.value===t.value},on:{click:function(a){return t.handleClick(e)}}},[a("span",[t._v(t._s(e.label))])])})),0)},v=[],m=(a("c5f6"),{name:"YcRadio",props:{value:[String,Number,Object],options:Array},methods:{handleClick:function(t){this.$emit("input",t.value),this.$emit("change",t.value)}}}),g=m,_=(a("75f1"),a("2877")),h=Object(_["a"])(g,p,v,!1,null,"00be5cd5",null),b=h.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"u-product__list py-1"},[t._l([t.info.orderItemList[0]],(function(e){return a("div",{key:e.id,staticClass:"u-product__item pr-2"},[a("el-image",{staticClass:"u-sku__img",staticStyle:{width:"50px",height:"50px"},attrs:{src:t._f("fmtWebp")(e.productSku.skuImgUrl),fit:"fill",lazy:"",webp:"","preview-src-list":[e.productSku.skuImgUrl]}}),t._v(" "),a("div",{staticClass:"u-sku__name"},[a("div",{staticClass:"ellipsis-2"},[t._v(t._s(e.productSku.skuName))]),t._v(" "),a("div",{staticClass:"u-sku__specs text-hui2"},[t._v(t._s(t.getSpecs(e.productSku)))])]),t._v(" "),a("div",{staticClass:"u-sku__info"},[a("div",{staticClass:"u-sku__price"},[a("span",{staticClass:"font-s-1"},[t._v("¥")]),t._v(" "),a("span",{staticClass:"font-s-13 font-weight-bold"},[t._v(t._s(e.productSku.price))])]),t._v(" "),a("div",{staticClass:"u-sku__quantity font-weight-bold"},[a("span",{staticClass:"el-icon-close font-s-1"}),t._v(" "),a("span",{staticClass:"font-s-13 font-weight-bold"},[t._v(t._s(e.quantity))])])])],1)})),t._v(" "),t.info.orderItemList.length>1?a("div",[a("span",[t._v("等")]),t._v(" "),a("span",{staticClass:"font-weight-bold",staticStyle:{padding:"0 2px"}},[t._v(t._s(t.info.orderItemList.length))]),t._v(" "),a("span",[t._v("件商品")])]):t._e()],2)},k=[],w=(a("7f7f"),{name:"SkuList",props:{info:Object},methods:{getSpecs:function(t){return t.specs.map((function(t){return t.name+"/"+t.value})).join("/")}}}),C=w,S=(a("89c5"),Object(_["a"])(C,y,k,!1,null,"65eec332",null)),x=S.exports,O={name:"OnlineOrder",components:{YcRadio:b,SkuList:x},data:function(){return{options:[{label:"商家配送",value:"商家配送"},{label:"顺丰快递",value:"顺丰快递"},{label:"圆通快递",value:"圆通快递"},{label:"中通快递",value:"中通快递"},{label:"申通快递",value:"申通快递"},{label:"韵达快递",value:"韵达快递"},{label:"百世汇通快递",value:"百世汇通快递"},{label:"天天快递",value:"天天快递"}],dialogFormVisible:!1,sendForm:{orderId:"",logisticsNo:"",logisticsName:""},textMap:{100:"待支付",200:"待发货",300:"待收货",400:"已完成",900:"已取消"},colorMap:{100:"danger",200:"warning",300:"",400:"success",900:"info"},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){t.$emit("pick",Object(f["b"])())}},{text:"最近一个月",onClick:function(t){t.$emit("pick",Object(f["a"])())}},{text:"最近三个月",onClick:function(t){t.$emit("pick",Object(f["a"])(-3))}}]},statusOptions:[{label:"全部订单",value:""},{label:"待支付",value:100},{label:"待发货",value:200},{label:"待收货",value:300},{label:"已完成",value:400},{label:"已取消",value:900}],wText:{1:"退款中",2:"退款关闭",3:"退款成功",4:"退货中",5:"退货关闭",6:"退货成功"},listQuery:{orderStatus:"",date:""},pageNo:1,pageSize:10,totalCount:0,loading:!1,list:[]}},beforeMount:function(){this.getList()},methods:{confirmSend:function(){var t=this;if("商家配送"!==this.sendForm.logisticsName&&!this.sendForm.logisticsNo)return this.$message.error("运单号不能为空");this.$confirm("该订单是否已经发货?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){d["a"].onlineOrderShip(t.sendForm).then((function(){t.$notify({title:"成功",message:"发货成功",type:"success"}),t.getList(),t.dialogFormVisible=!1})).catch((function(e){t.$message.error(e.message)}))})).catch((function(){}))},goDetail:function(t){this.$router.push("/order/onlineOrderDetail?orderId=".concat(t.order.orderId))},sendOrder:function(t){var e=t.order.orderId;this.sendForm={orderId:e,logisticsNo:"",logisticsName:"商家配送"},this.dialogFormVisible=!0},getList:function(){var t=this;this.loading=!0;var e="",a="";this.listQuery.date&&(e=u()(this.listQuery.date[0]).format("YYYY-MM-DD HH:mm:ss"),a=u()(this.listQuery.date[1]).format("YYYY-MM-DD HH:mm:ss")),d["a"].onlineOrderQuery({startTime:e,endTitme:a,orderId:this.listQuery.orderId,orderStatus:this.listQuery.orderStatus,warrantyStatus:0,pageNo:this.pageNo,pageSize:this.pageSize}).then((function(e){e=e.data,t.loading=!1,t.list=e.items,t.totalCount=e.totalCount})).catch((function(e){t.loading=!1,t.$message.error(e.message)}))},handleSizeChange:function(t){this.pageSize=t,this.getList()},handleCurrentChange:function(t){this.pageNo=t,this.getList()}}},z=O,Q=(a("ada4"),Object(_["a"])(z,l,o,!1,null,"2e9c0b8c",null)),$=Q.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"u-shopOrder"},[a("div",{staticClass:"pb-1 border-bottom-divider flex align-center justify-between"},[a("yc-radio",{staticClass:"flex-0",attrs:{options:t.statusOptions},on:{change:t.getList},model:{value:t.listQuery.warrantyStatus,callback:function(e){t.$set(t.listQuery,"warrantyStatus",e)},expression:"listQuery.warrantyStatus"}}),t._v(" "),a("div",{staticClass:"flex align-center"},[a("el-date-picker",{staticClass:"mr-1",attrs:{type:"daterange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"small","default-time":["00:00:00","23:59:59"]},on:{change:t.getList},model:{value:t.listQuery.date,callback:function(e){t.$set(t.listQuery,"date",e)},expression:"listQuery.date"}}),t._v(" "),a("el-input",{staticClass:"mr-1",staticStyle:{width:"200px"},attrs:{placeholder:"请输入订单号",clearable:"",size:"small","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getList(e)}},model:{value:t.listQuery.orderId,callback:function(e){t.$set(t.listQuery,"orderId",e)},expression:"listQuery.orderId"}}),t._v(" "),a("el-button",{staticClass:"yc-edit",attrs:{icon:"el-icon-search",size:"small"},on:{click:t.getList}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"mt-1",staticStyle:{width:"100%"},attrs:{data:t.list,"highlight-current-row":"",size:"small","header-row-class-name":"u-tabel__header"}},[a("el-table-column",{attrs:{label:"订单编号",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(s.order.orderId))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品详情","min-width":"300"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[a("sku-list",{attrs:{info:e}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"退货状态",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(t.wText[s.order.warrantyStatus]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"订单状态",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("el-tag",{attrs:{type:t.colorMap[s.order.orderStatus]}},[t._v(t._s(t.textMap[s.order.orderStatus]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"订单总价(元)",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",{staticClass:"font-weight-bold font-s-14"},[t._v(t._s(s.order.totalFee.toFixed(2)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"物流信息","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(s.order.logisticsName))]),t._v(" "),a("span",[t._v(t._s(s.order.logisticsNo))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"订单备注",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"u-buyerMemo"},[t._v(t._s(s.order.buyerMemo))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"u-createTime"},[t._v(t._s(s.order.createTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("el-button",{staticClass:"yc-btn",attrs:{size:"mini"},on:{click:function(e){return t.goDetail(s)}}},[t._v("详情")]),t._v(" "),[1,4].includes(s.order.warrantyStatus)?a("el-button",{staticClass:"yc-del",attrs:{size:"mini"},on:{click:function(e){return t.doRefund(s)}}},[t._v("退款")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"u-page"},[a("el-pagination",{attrs:{background:"","current-page":t.pageNo,"page-sizes":[10,20,30,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},I=[],L={name:"OnlineOrder",components:{YcRadio:b,SkuList:x},data:function(){return{options:[{label:"商家配送",value:"商家配送"},{label:"顺丰快递",value:"顺丰快递"},{label:"圆通快递",value:"圆通快递"},{label:"中通快递",value:"中通快递"},{label:"申通快递",value:"申通快递"},{label:"韵达快递",value:"韵达快递"},{label:"百世汇通快递",value:"百世汇通快递"},{label:"天天快递",value:"天天快递"}],textMap:{100:"待支付",200:"待发货",300:"待收货",400:"已完成",900:"已取消"},colorMap:{100:"danger",200:"warning",300:"",400:"success",900:"info"},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){t.$emit("pick",Object(f["b"])())}},{text:"最近一个月",onClick:function(t){t.$emit("pick",Object(f["a"])())}},{text:"最近三个月",onClick:function(t){t.$emit("pick",Object(f["a"])(-3))}}]},statusOptions:[{label:"全部订单",value:"1,2,3,4,5,6"},{label:"退款中",value:"1,4"},{label:"退款关闭",value:"2,5"},{label:"退款成功",value:"3,6"}],wText:{1:"退款中",2:"退款关闭",3:"退款成功",4:"退货中",5:"退货关闭",6:"退货成功"},listQuery:{warrantyStatus:"1,2,3,4,5,6",date:""},pageNo:1,pageSize:10,totalCount:0,loading:!1,list:[]}},beforeMount:function(){this.getList()},methods:{doRefund:function(t){var e=this;this.$confirm("此操作将同意用户退款申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){1===t.order.warrantyStatus&&d["a"].onlineOrderAuditRefund({orderId:t.order.orderId}).then((function(t){e.$notify({title:"成功",message:"审核通过",type:"success"}),e.getList()})),4===t.order.warrantyStatus&&d["a"].onlineOrderAuditReturn({orderId:t.order.orderId}).then((function(t){e.$notify({title:"成功",message:"审核通过",type:"success"}),e.getList()}))})).catch((function(){}))},goDetail:function(t){this.$router.push("/order/onlineOrderDetail?orderId=".concat(t.order.orderId))},getList:function(){var t=this;this.loading=!0;var e="",a="";this.listQuery.date&&(e=u()(this.listQuery.date[0]).format("YYYY-MM-DD HH:mm:ss"),a=u()(this.listQuery.date[1]).format("YYYY-MM-DD HH:mm:ss")),d["a"].onlineOrderQuery({startTime:e,endTitme:a,orderId:this.listQuery.orderId,warrantyStatus:this.listQuery.warrantyStatus,pageNo:this.pageNo,pageSize:this.pageSize}).then((function(e){e=e.data,t.loading=!1,t.list=e.items,t.totalCount=e.totalCount})).catch((function(e){t.loading=!1,t.$message.error(e.message)}))},handleSizeChange:function(t){this.pageSize=t,this.getList()},handleCurrentChange:function(t){this.pageNo=t,this.getList()}}},F=L,M=(a("41e8"),Object(_["a"])(F,N,I,!1,null,"8786adc8",null)),Y=M.exports,j={name:"Product",components:{YcTabs:n["a"],YcBlock:r["a"],OnlineOrderNormal:$,OnlineOrderRefund:Y},data:function(){return{current:"线上订单"}}},T=j,D=Object(_["a"])(T,s,i,!1,null,null,null);e["default"]=D.exports}}]);