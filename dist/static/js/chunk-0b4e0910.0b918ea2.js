(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b4e0910"],{"426e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"u-shopOrder"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入订单号",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getList(e)}},model:{value:t.listQuery.orderId,callback:function(e){t.$set(t.listQuery,"orderId",e)},expression:"listQuery.orderId"}}),t._v(" "),a("el-select",{staticClass:"filter-item",attrs:{placeholder:"订单状态",clearable:""},on:{change:t.getList},model:{value:t.listQuery.orderStatus,callback:function(e){t.$set(t.listQuery,"orderStatus",e)},expression:"listQuery.orderStatus"}},t._l(t.statusOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),a("el-date-picker",{staticClass:"filter-item",attrs:{type:"datetimerange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right","default-time":["00:00:00","23:59:59"]},on:{change:t.getList},model:{value:t.listQuery.date,callback:function(e){t.$set(t.listQuery,"date",e)},expression:"listQuery.date"}}),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getList}},[t._v("查询")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.list,stripe:"",border:"","highlight-current-row":"","header-row-class-name":"u-tabel__header"}},[a("el-table-column",{attrs:{label:"订单编号",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(s.order.orderId))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品详情",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"u-product__list"},t._l(s.orderItemList,(function(e){return a("div",{key:e.id,staticClass:"u-product__item"},[a("el-image",{staticClass:"u-sku__img",staticStyle:{width:"50px",height:"50px"},attrs:{src:e.productSku.skuImgUrl,fit:"fill",lazy:"",webp:"","preview-src-list":[e.productSku.skuImgUrl]}}),t._v(" "),a("div",{staticClass:"u-sku__name"},[a("div",[t._v(t._s(e.productSku.skuName))]),t._v(" "),a("div",{staticClass:"u-sku__specs"},[t._v(t._s(t.getSpecs(e.productSku)))])]),t._v(" "),a("div",{staticClass:"u-sku__price"},[t._v("¥"+t._s(e.productSku.price))]),t._v(" "),a("div",{staticClass:"u-sku__quantity"},[t._v("x"+t._s(e.quantity))])],1)})),0)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"订单总价(元)",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"u-totalFee"},[t._v(t._s(s.order.totalFee))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"收货地址",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"u-address"},[a("span",[t._v(t._s(s.userAddress.province))]),t._v(" "),a("span",[t._v(t._s(s.userAddress.city))]),t._v(" "),a("span",[t._v(t._s(s.userAddress.area))]),t._v(" "),a("span",[t._v(t._s(s.userAddress.detail))])]),t._v(" "),a("div",[a("span",{staticClass:"u-contact"},[t._v(t._s(s.userAddress.contact))]),t._v(" "),a("span",{staticClass:"u-mobile"},[t._v(t._s(s.userAddress.mobile))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"订单备注",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"u-buyerMemo"},[t._v(t._s(s.order.buyerMemo))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"订单状态",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"u-orderStatus",style:{color:t.colorMap[s.order.orderStatus]}},[t._v(t._s(t.textMap[s.order.orderStatus]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"u-createTime"},[t._v(t._s(s.order.createTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("查看详情")]),t._v(" "),200==s.order.orderStatus?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(e){return t.sendOrder(s)}}},[t._v("发货")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"u-page"},[a("el-pagination",{attrs:{background:"","current-page":t.pageNo,"page-sizes":[10,30,50,100],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},r=[],i=(a("7f7f"),a("5a0c")),n=a.n(i),l=a("6724"),o=a("b775");function u(t){return Object(o["a"])({url:"/admin/queryOrder",method:"post",data:t})}function c(t){return Object(o["a"])({url:"/admin/shipOrder",method:"post",data:t})}var d=a("c466"),p={directives:{waves:l["a"]},data:function(){return{textMap:{100:"待支付",200:"待发货",300:"待收货",400:"已完成",900:"已取消"},colorMap:{100:"#F24957",200:"#FFAF0F",300:"#409EFF",400:"#67C23A",900:"#909399"},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){t.$emit("pick",Object(d["b"])())}},{text:"最近一个月",onClick:function(t){t.$emit("pick",Object(d["a"])())}},{text:"最近三个月",onClick:function(t){t.$emit("pick",Object(d["a"])(-3))}}]},statusOptions:[{label:"待支付",value:100},{label:"待发货",value:200},{label:"待收货",value:300},{label:"已完成",value:400},{label:"已取消",value:900}],filterMore:!1,listQuery:{orderStatus:"",date:""},pageNo:1,pageSize:10,totalCount:0,loading:!1,list:[]}},beforeMount:function(){this.getList()},methods:{sendOrder:function(t){var e=this,a=t.order.orderId;this.$confirm("该订单是否已经发货?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){c({orderId:a}).then((function(a){t.order.orderStatus=300,e.$message({type:"success",message:"操作成功!"})})).catch((function(t){e.$message.error(t.message)}))})).catch((function(){}))},getSpecs:function(t){return t.specs.map((function(t){return t.name+"/"+t.value})).join("/")},getList:function(){var t=this;this.loading=!0;var e="",a="";this.listQuery.date&&(e=n()(this.listQuery.date[0]).format("YYYY-MM-DD HH:mm:ss"),a=n()(this.listQuery.date[1]).format("YYYY-MM-DD HH:mm:ss")),u({startTime:e,endTitme:a,orderId:this.listQuery.orderId,orderStatus:this.listQuery.orderStatus,pageNo:this.pageNo,pageSize:this.pageSize}).then((function(e){t.loading=!1,t.list=e.items,t.totalCount=e.totalCount})).catch((function(e){t.loading=!1,t.$message.error(e.message)}))},handleSizeChange:function(t){this.pageSize=t,this.getList()},handleCurrentChange:function(t){this.pageNo=t,this.getList()}}},v=p,_=(a("75b9"),a("2877")),f=Object(_["a"])(v,s,r,!1,null,"6e158d44",null);e["default"]=f.exports},"6d83":function(t,e,a){},"75b9":function(t,e,a){"use strict";var s=a("6d83"),r=a.n(s);r.a}}]);